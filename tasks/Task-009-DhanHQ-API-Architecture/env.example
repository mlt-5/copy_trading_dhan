# DhanHQ Copy Trading System - Environment Configuration
# Copy this file to .env and fill in your actual values

# ============================================================================
# Leader Account (Account to copy FROM)
# ============================================================================
LEADER_CLIENT_ID=1234567890
LEADER_ACCESS_TOKEN=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...your_leader_token_here

# ============================================================================
# Follower Account (Account to copy TO)
# ============================================================================
FOLLOWER_CLIENT_ID=0987654321
FOLLOWER_ACCESS_TOKEN=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...your_follower_token_here

# ============================================================================
# DhanHQ API Configuration
# ============================================================================
# Production base URLs (default, no need to change)
DHAN_API_BASE_URL=https://api.dhan.co
DHAN_WS_URL=wss://api-feed.dhan.co

# Environment: production or sandbox (optional, defaults to production)
# DHAN_ENV=production

# ============================================================================
# Position Sizing Strategy
# ============================================================================
# Options: CAPITAL_PROPORTIONAL, FIXED_RATIO, RISK_BASED
SIZING_STRATEGY=CAPITAL_PROPORTIONAL

# Capital ratio for CAPITAL_PROPORTIONAL (0.0 to 1.0)
# Example: 0.5 = use 50% of follower capital relative to leader
CAPITAL_RATIO=0.5

# Fixed ratio for FIXED_RATIO strategy
# Example: 2.0 = follower trades 2x leader quantity, 0.5 = follower trades 0.5x
FIXED_RATIO=1.0

# Risk per trade for RISK_BASED strategy (percentage)
# Example: 2.0 = risk 2% of capital per trade
RISK_PER_TRADE_PCT=2.0

# ============================================================================
# Risk Limits
# ============================================================================
# Maximum daily loss (INR)
MAX_DAILY_LOSS=10000.0

# Maximum position size (INR)
MAX_POSITION_SIZE=500000.0

# Maximum open positions
MAX_OPEN_POSITIONS=10

# ============================================================================
# Order Filtering (Optional)
# ============================================================================
# Comma-separated list of allowed exchanges (leave empty for all)
# Example: NSE,BSE
ALLOWED_EXCHANGES=

# Comma-separated list of allowed segments (leave empty for all)
# Example: EQ,FNO
ALLOWED_SEGMENTS=

# Comma-separated list of blocked symbols (leave empty for none)
# Example: NIFTY,BANKNIFTY
BLOCKED_SYMBOLS=

# Comma-separated list of allowed product types (leave empty for all)
# Example: INTRADAY,CNC,MARGIN
ALLOWED_PRODUCT_TYPES=

# ============================================================================
# Database Configuration
# ============================================================================
# Database file path (relative to project root)
DB_PATH=copy_trading.db

# Enable WAL mode for better concurrency (true/false)
DB_WAL_MODE=true

# ============================================================================
# Logging Configuration
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path (relative to project root)
LOG_FILE=copy_trading.log

# Enable console logging (true/false)
LOG_CONSOLE=true

# Enable file logging (true/false)
LOG_FILE_ENABLED=true

# Max log file size in MB (for rotation)
LOG_MAX_SIZE_MB=10

# Number of backup log files to keep
LOG_BACKUP_COUNT=5

# ============================================================================
# WebSocket Configuration
# ============================================================================
# Reconnection settings
WS_RECONNECT_DELAY=5
WS_MAX_RECONNECT_ATTEMPTS=10
WS_PING_INTERVAL=30
WS_PING_TIMEOUT=10

# ============================================================================
# API Rate Limiting (Optional)
# ============================================================================
# Requests per second limit (0 = no limit)
RATE_LIMIT_RPS=10

# Burst allowance
RATE_LIMIT_BURST=20

# ============================================================================
# Development/Testing Options
# ============================================================================
# Dry run mode - don't place actual orders (true/false)
# DRY_RUN=false

# Disable order placement (for testing WebSocket only)
# DISABLE_ORDER_PLACEMENT=false

# Enable debug mode
# DEBUG=false

